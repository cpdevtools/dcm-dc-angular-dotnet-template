"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.PnpmPackage = void 0;
const fs_1 = require("fs");
const utils_1 = require("../../utils");
const Package_1 = require("./Package");
class PnpmPackage extends Package_1.Package {
    static async detect(data, path, filename) {
        return true;
    }
    execPackageManager(cmd) {
        return this.execCmd(`pnpm ${cmd}`);
    }
    async load() {
        if (this.isWorkspace) {
            const ws = await (0, utils_1.readYamlFile)("pnpm-workspace.yaml");
            this.data.workspaces = ws.packages ?? [];
        }
    }
    get isWorkspace() {
        return (0, fs_1.existsSync)("pnpm-workspace.yaml");
    }
}
exports.PnpmPackage = PnpmPackage;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUE5wbVBhY2thZ2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvcGFja2FnZS1tYW5hZ2Vycy9pbXBsL1BOcG1QYWNrYWdlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLDJCQUFnQztBQUVoQyx1Q0FBMkM7QUFDM0MsdUNBQW9DO0FBRXBDLE1BQWEsV0FBWSxTQUFRLGlCQUFPO0lBQy9CLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLElBQWlCLEVBQUUsSUFBWSxFQUFFLFFBQWdCO1FBQzFFLE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQztJQUVTLGtCQUFrQixDQUFDLEdBQVc7UUFDdEMsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUMsQ0FBQztJQUNyQyxDQUFDO0lBRWUsS0FBSyxDQUFDLElBQUk7UUFDeEIsSUFBSSxJQUFJLENBQUMsV0FBVyxFQUFFO1lBQ3BCLE1BQU0sRUFBRSxHQUFHLE1BQU0sSUFBQSxvQkFBWSxFQUFNLHFCQUFxQixDQUFDLENBQUM7WUFDMUQsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLEdBQUcsRUFBRSxDQUFDLFFBQVEsSUFBSSxFQUFFLENBQUM7U0FDMUM7SUFDSCxDQUFDO0lBRUQsSUFBb0IsV0FBVztRQUM3QixPQUFPLElBQUEsZUFBVSxFQUFDLHFCQUFxQixDQUFDLENBQUM7SUFDM0MsQ0FBQztDQUNGO0FBbkJELGtDQW1CQyJ9